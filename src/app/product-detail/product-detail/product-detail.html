<div class="container my-4">
  <!-- Debug Info 
  <div style="background: yellow; padding: 10px; margin: 10px 0;">
    DEBUG: Loading = {{ loading }}, Product = {{ !!product }}
  </div>-->
  
  <!-- Loading State -->
  <div *ngIf="loading" class="text-center p-5">
    <p>Loading product details...</p>
  </div>

  <!-- Product Details -->
  <div *ngIf="!loading && product" class="row">
    <div class="col-md-6">
      <img [src]="product.image" [alt]="product.title" class="img-fluid" style="max-height: 400px; object-fit: contain;">
    </div>
    <div class="col-md-6">
      <h1>{{ product.title }}</h1>
      <p class="text-muted"><strong>Category:</strong> {{ product.category | titlecase }}</p>
      <h3 class="text-primary">${{ product.price }}</h3>
      <p class="mt-3">{{ product.description }}</p>
      <div class="mt-4">
        <button class="btn btn-success me-2" (click)="addToCart()">Add to Cart</button>
        <button class="btn btn-outline-secondary" (click)="goBack()">Back to Products</button>
      </div>
    </div>
  </div>

  <!-- Product Not Found -->
  <div *ngIf="!loading && !product" class="text-center p-5">
    <h4>Product not found</h4>
    <button class="btn btn-primary" (click)="goBack()">Back to Products</button>
  </div>
</div>